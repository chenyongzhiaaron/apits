# 认证Authentication

**本小节目标**：
* 掌握DRF框架全局认证方案的设置
* 掌握DRF框架指定视图认证方案的设置

### 1. 默认全局认证方案

DRF框架默认在`rest_framework.settings`文件中进行了全局认证方案的设置：

```python
DEFAULTS = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        'rest_framework.authentication.SessionAuthentication', # sesssion认证
        'rest_framework.authentication.BasicAuthentication' # 基本认证
    )
}
```
> 注：<br/>
> 1. session认证方案<br/>
> 2. 基本认证方案

![基本认证](assets/基本认证.png)


### 2. 修改全局认证方案

可以在DRF项目的`settings.py`文件中修改DRF框架的全局认证方案，如：

```python
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        'rest_framework.authentication.SessionAuthentication',
    )
}
```
> 注：修改全局认证方案仅为session认证方式。

### 3. 指定视图认证方案设置

可以在每个视图中通过设置authentication_classess属性来设置视图的认证方案，如：

```python
from rest_framework.viewsets import ReadOnlyModelViewSet
from rest_framework.authentication import SessionAuthentication

from booktest.serializers import BookInfoSerializer
from booktest.models import BookInfo

class BookInfoViewSet(ReadOnlyModelViewSet):
    serializer_class = BookInfoSerializer
    queryset = BookInfo.objects.all()

    # 指定当前视图自己的认证方案，不再使用全局认证方案
    authentication_classess = [SessionAuthentication]
```

> 注：认证配合权限进行使用。

**总结**：
* DRF框架默认全局认证方案有两种：session认证和基本认证
* 可以在settings.py配置文件中修改DRF框架默认全局认证方案
* 也可以在指定视图中通过authentication_classes设置视图的认证方案
