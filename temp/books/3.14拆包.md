# 拆包



## 一、是什么

拆包：是一种快速提取数据的方式

例如，有一个元组`(11, 22, 33, 44)`想快速的提取每个元素且赋值给`num1, num2, num3, num4`这4个变量

普通的做法，较为繁琐

```python
nums = (11, 22, 33, 44)  # 定义一个元组
num1 = nums[0]  # 通过下标来提取
num2 = nums[1]  # 通过下标来提取
num3 = nums[2]  # 通过下标来提取
num4 = nums[3]  # 通过下标来提取
```

拆包的方式，可以见非常简洁

```python
num1, num2, num3, num4 = (11, 22, 33, 44)  # 一行代码搞定
```

拆包的示例
![image-20200901104514726](https://cdn.itprojects.cn/04book/0002.book.img/2020-python38/y2vnh.png)



## 二、拆列表

示例

```python
a, b = [11, 22]
print(a)
print(b)

```

运行结果：

```
11
22
```



## 三、拆元组

示例

```python
a, b = (11, 22)
print(a)
print(b)

```

运行结果：

```
11
22
```



## 四、拆集合

示例

```python
a, b = {11, 22}
print(a)
print(b)

```

运行结果：

```
11
22
```



## 五、拆字典

### 1. 一般用法

示例

```python
a, b = {"name": "王老师", "web_site": "https://www.itprojects.cn"}
print(a)
print(b)

```

运行结果：

```
name
web_site
```

默认取到的是字典的key，而不是value



### 2. 常见用法

示例

```python
teacher_wang = {"name": "王老师", "web_site": "https://www.itprojects.cn"}

for k, v in teacher_wang.items():
    print("k=%s, v=%s" % (k, v))

```

运行结果：

```
k=name, v=王老师
k=web_site, v=https://www.itprojects.cn
```



## 六、注意点

`=`右边要拆的数据元素的个数 要 与`=`左边存的变量个数相同

错误示例如下：

```python
a, b = [11, 22, 33]
```

此时运行结果如下：

```
ValueError                                Traceback (most recent call last)
<ipython-input-19-887c339c8076> in <module>
----> 1 a, b = [11, 22, 33]

ValueError: too many values to unpack (expected 2)
```



## 七、经典面试题（交换2个变量的值）

### 方式1：最普通的方式

```python
a = 4
b = 5
print("交换之前a=%d, b=%d" % (a, b))

# 额外定义一个变量，用来临时使用
c = a
a = b
b = c
print("交换之后a=%d, b=%d" % (a, b))

```

运行结果

```
交换之前a=4, b=5
交换之后a=5, b=4
```



### 方式2：巧妙的方式

```python
a = 4
b = 5
print("交换之前a=%d, b=%d" % (a, b))

# 巧妙之处（没有用额外的变量）
a = a+b
b = a-b
a = a-b
print("交换之后a=%d, b=%d" % (a, b))

```

运行结果

```
交换之前a=4, b=5
交换之后a=5, b=4
```



### 方式3：使用拆包的方式

```python
a = 4
b = 5
print("交换之前a=%d, b=%d" % (a, b))

# Python独到之处
a, b = b, a  # 
print("交换之后a=%d, b=%d" % (a, b))

```

运行结果

```
交换之前a=4, b=5
交换之后a=5, b=4
```

说明：

* `a, b = b, a`首先要计算`=`右边`b, a`此时他们会被当做一个元组即`(b, a)`就相当于`(5, 4)`
* 然后再将`a, b = (5, 4)`进行计算，此时a为`5`，b为`4`