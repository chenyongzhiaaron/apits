# 链表应用-约瑟夫环

约瑟夫生者死者游戏

约瑟夫游戏的大意：30个游客同乘一条船，因为严重超载， 加上风浪大作，危险万分。因此船长告诉乘客，只有将全船 一半的旅客投入海中，其余人才能幸免于难。无奈，大家只 得同意这种办法，并议定30 个人围成一圈，由第一个人数起，依次报数，数到第9人，便把他投入大海中，然后再从 他的下一个人数起，数到第9人，再将他投入大海中，如此 循环地进行，直到剩下 15 个游客为止。问：哪些位置是将 被扔下大海的位置？ 



题目：

有n个人围成一圈，顺序排号。从第一个人开始报数（从1到m报数），凡报到m的人退出圈子，直到船上仅剩 r人为止,问都有哪些编号的人下船了呢？。

假设n=30，m=9，r=15



链表实现：

使用单向循环链表

```python
class ListNode(object):
    def __init__(self, val):
        self.val = val
        self.next = None


n, m, r = 30, 9, 15
# 开始构建环(单向循环链表)
head = ListNode(1)
p = head
for i in range(2, n + 1):
    p.next = ListNode(i)
    p = p.next
p.next = head
# 构建完成,开始报数

result = []  # 用于保存出列顺序
p = head
count = 1  # 第一个人报的数为1
while n != r:
    prev = p
    p = p.next
    count += 1
    # 凡报到m的人退出圈子
    if count == m:
        result.append(p.val)
        prev.next = prev.next.next
        count = 0
        n -= 1
print("报到%d的人的出列顺序：" % m, result)
```

运行效果：

```
报到9的人的出列顺序： [9, 18, 27, 6, 16, 26, 7, 19, 30, 12, 24, 8, 22, 5, 23]
```





