# MongoDB的备份与恢复

注意：

> 以下命令是在终端中输入，而不是在mongo客户端中输入



## 一、备份

保证数据库安全，主要用于灾难处理

备份的语法：

```
mongodump -h dbhost -d dbname -o dbdirectory
```

说明：

- `-h`： 服务器地址， 也可以指定端⼝号
- `-d`： 需要备份的数据库名称
- `-o`： 备份的数据存放位置， 此⽬录中存放着备份出来的数据

示例：

```
mongodump -h 192.168.196.128:27017 -d test1 -o ~/Desktop/test1bak
```



## 二、恢复

恢复语法：
```
mongorestore -h dbhost -d dbname --dir dbdirectory
```

说明：

- `-h`： 服务器地址
- `-d`： 需要恢复的数据库实例
- `--dir`： 备份数据所在位置

示例：
```
mongorestore -h 192.168.196.128:27017 -d test2 --dir ~/Desktop/test1bak/test1
```

