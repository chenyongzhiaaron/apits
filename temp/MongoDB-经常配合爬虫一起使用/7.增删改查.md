#  MongoDB的增删改查



文档的数据结构和 JSON 基本一样；所有存储在集合中的数据都是 BSON 格式。BSON 是一种类似 JSON 的二进制形式的存储格式，是 Binary JSON 的简称



## 一、MongoDB的插入

### `insert()`方式

MongoDB 使用` insert() `或 `save() `方法向集合中插入文档，语法如下：

```
db.集合名称.insert(document)
```

demo：

```
db.stu.insert({name:'gj',gender:1})
db.stu.insert({_id:"20170101",name:'gj',gender:1})
```

注意：

> 插⼊⽂档时， 如果不指定_id参数， MongoDB会为⽂档分配⼀个唯⼀的ObjectId  

### `save()`方式

命令：

```
db.集合名称.save(document)
```

说明：

>   如果⽂档的`_id`已经存在则修改， 如果⽂档的`_id`不存在则添加



## 二、MongoDB的简单查询

命令：

```
db.集合名称.find()
```

如果需要以易读的方式来读取数据，可以使用 `pretty()`方法，语法格式如下：

```
db.集合名称.find().pretty()
```



## 三、MongoDB的更新

命令：

```
db.集合名称.update(<query> ,<update>,{multi: <boolean>})
```

说明：

- 参数query:查询条件
- 参数update:更新操作符
- 参数multi:可选， 默认是false，表示只更新找到的第⼀条记录， 值为true表示把满⾜条件的⽂档全部更新

demo：查询到的第1条用新的文档进行覆盖

```
db.stu.update({name:'hr'},{name:'mnc'})
```

demo：指定键值更新操作

```
db.stu.update({name:'hr'},{$set:{name:'hys'}})
```

demo：更新全部

```
db.stu.update({},{$set:{gender:0}},{multi:true})
```

注意：

* "multi update only works with $ operators"



## 四、MongoDB的删除

命令：

```
db.集合名称.remove(<query>,{justOne: <boolean>})
```

说明：

- 参数query:可选，删除的⽂档的条件
- 参数justOne:可选， 如果设为true或1， 则只删除⼀条， 默认false， 表示删除多条