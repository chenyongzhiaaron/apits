# ORM

## 1. 目的

在mini_web项目中，文件`mini_web.py`中存放很多的函数，其中这些函数里基本都有数据库的操作，如下图是修改备注的2个函数

![image-20190505083139491](assets/image-20190505083139491.png)

![image-20190505083044041](assets/image-20190505083044041.png)

可以发现在用户访问的整个过程中，一个URL对应一个函数的调用，而整个函数中基本都会涉及到SQL的编写，虽然使用原生的SQL能够让自己不会遗忘这些SQL语句，但是在开发过程中可能不小心的疏漏导致SQL编写有问题从而导致较大的隐患，所以说要想尽量避免SQL编写错误，提升开发效率，一般都会将对SQL的操作转换为对象的操作，让对象自动去执行SQL

## 2. ORM

全称 `Object Relational Mapping`, 翻译过来叫`对象关系映射`。

简单的说，ORM 将数据库中的表与面向对象语言中的类建立了一种对应关系。

这样，我们要操作数据库，数据库中的表或者表中的一条记录就可以直接通过操作类或者类实例来完成。

![orm1](assets/05-sqlalchemy/124324t341323asdsd.png)

## 3. 理解图解

![image-20190505084958032](assets/image-20190505084958032.png)



## 4. 总结

* 之前操作数据库时 需要编写的SQL，这样很容易出错，而且效率较低，不太适合快速互联网开发

* 使用ORM将对SQL语句的编写变成了对一个类的编写，需要操作数据库时只需要操作这个类以及相关方法就可以完成操作数据库，因为不需要编写SQL语句所以不容易出错，开发效率高
* 使用ORM还有一个非常大的特点，当RDBMS从某种切换到另外一种时（例如之前是MySQL，后期要用Oracle），切换成本非常低