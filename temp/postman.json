{
	"info": {
		"_postman_id": "9f5b15a9-464b-40c7-8aa5-95d3094cce23",
		"name": "New Collection",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "6288605"
	},
	"item": [
		{
			"name": "login",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"get_bsptoken\", function () {\r",
							"     let res = pm.response.json();\r",
							"     let bspToken = res.data.bspToken;\r",
							"     pm.environment.set(\"bsToken\", bspToken);\r",
							"\r",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n     \"account\": \"18127813600\",\r\n     \"password\": \"WD6Y0+LJLHXuFaplzUtSCnwktA7KgXCpjCS+OVvIFGTEoz2gbqK2oOOuJUf7ao0m2YYGiGi1pQTMBnkrxIY1cztGYbVp97kvIQwZLN4UhrOAe3h1asY/NLnDwB/byl7agcGv9WI4oy6B1Z93HVHmQiAKn7QqnDgPVITu4jthNc8=\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{url}}/bsp/test/user/ugs/auth/loginByNotBip",
					"host": [
						"{{url}}"
					],
					"path": [
						"bsp",
						"test",
						"user",
						"ugs",
						"auth",
						"loginByNotBip"
					]
				}
			},
			"response": []
		},
		{
			"name": "获取需求采购列表(默认条件查询-成功)",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"assert_code\", function () {\r",
							"     let body = JSON.parse(pm.request.body.raw)\r",
							"     body_code = body.code\r",
							"     let res = pm.response.json()\r",
							"     for (let i of res.data.records) {\r",
							"          pm.expect(i.orderCode, \"不包含0003\").to.include(body_code)\r",
							"     }\r",
							"     let requireId = res.data.records[0].id\r",
							"     pm.environment.set(\"requireId\", requireId)\r",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "BSP_TOKEN",
						"value": "{{bsToken}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n     \"ncCode\": \"\",\r\n     \"applyTimeBegin\": \"\",\r\n     \"applyTimeEnd\": \"\",\r\n     \"applyUserName\": \"\",\r\n     \"auditStatus\": \"\",\r\n     \"buildingCode\": \"\",\r\n     \"code\": \"RE202210270003\",\r\n     \"name\": \"\",\r\n     \"purchaseType\": \"\",\r\n     \"size\": 10,\r\n     \"current\": 1,\r\n     \"projectId\": \"104966\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{url}}/bsp/test/user/ugs/ibs/api/ibs-material/material/jobRequire/pages?t=1681310676000",
					"host": [
						"{{url}}"
					],
					"path": [
						"bsp",
						"test",
						"user",
						"ugs",
						"ibs",
						"api",
						"ibs-material",
						"material",
						"jobRequire",
						"pages"
					],
					"query": [
						{
							"key": "t",
							"value": "1681310676000"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "获取请购详情",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "BSP_TOKEN",
						"value": "aba920e63584c3b1fef3cb4c498bca44",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://bimdc.bzlrobot.com/bsp/test/user/ugs/ibs/api/ibs-material/material/jobRequire/detail?t=&isEdit=&requireId=5804&projectId=",
					"protocol": "https",
					"host": [
						"bimdc",
						"bzlrobot",
						"com"
					],
					"path": [
						"bsp",
						"test",
						"user",
						"ugs",
						"ibs",
						"api",
						"ibs-material",
						"material",
						"jobRequire",
						"detail"
					],
					"query": [
						{
							"key": "t",
							"value": ""
						},
						{
							"key": "isEdit",
							"value": ""
						},
						{
							"key": "requireId",
							"value": "5804"
						},
						{
							"key": "projectId",
							"value": ""
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "文件上传",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "*/*"
					},
					{
						"key": "Accept-Language",
						"value": "zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"
					},
					{
						"key": "Connection",
						"value": "keep-alive"
					},
					{
						"key": "Cookie",
						"value": "sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%221876a7f1e0f1368-09fbff283e5df9-4c657b58-2073600-1876a7f1e10e86%22%2C%22first_id%22%3A%22%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E5%BC%95%E8%8D%90%E6%B5%81%E9%87%8F%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC%22%2C%22%24latest_referrer%22%3A%22https%3A%2F%2Flogin.countrygarden.com.cn%2F%22%7D%2C%22identities%22%3A%22eyIkaWRlbnRpdHlfY29va2llX2lkIjoiMTg3NmE3ZjFlMGYxMzY4LTA5ZmJmZjI4M2U1ZGY5LTRjNjU3YjU4LTIwNzM2MDAtMTg3NmE3ZjFlMTBlODYifQ%3D%3D%22%2C%22history_login_id%22%3A%7B%22name%22%3A%22%22%2C%22value%22%3A%22%22%7D%2C%22%24device_id%22%3A%221876a7f1e0f1368-09fbff283e5df9-4c657b58-2073600-1876a7f1e10e86%22%7D; x-access-token=9f576f5f914c6e29584f82e5c5fe9c92"
					},
					{
						"key": "Origin",
						"value": "https://bimdc.bzlrobot.com"
					},
					{
						"key": "Sec-Fetch-Dest",
						"value": "empty"
					},
					{
						"key": "Sec-Fetch-Mode",
						"value": "cors"
					},
					{
						"key": "Sec-Fetch-Site",
						"value": "same-origin"
					},
					{
						"key": "User-Agent",
						"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 Edg/115.0.0.0"
					},
					{
						"key": "app_token",
						"value": "A4C419A561A3404A86A33628A3F681C3"
					},
					{
						"key": "sec-ch-ua",
						"value": "\"Not/A)Brand\";v=\"99\", \"Microsoft Edge\";v=\"115\", \"Chromium\";v=\"115\""
					},
					{
						"key": "sec-ch-ua-mobile",
						"value": "?0"
					},
					{
						"key": "sec-ch-ua-platform",
						"value": "\"Windows\""
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "file",
							"type": "file",
							"src": "test.jpeg"
						}
					]
				},
				"url": {
					"raw": "https://bimdc.bzlrobot.com/bsp/opi/document/v1/document/fileStore/uploadFile",
					"protocol": "https",
					"host": [
						"bimdc",
						"bzlrobot",
						"com"
					],
					"path": [
						"bsp",
						"opi",
						"document",
						"v1",
						"document",
						"fileStore",
						"uploadFile"
					]
				}
			},
			"response": []
		},
		{
			"name": "https://bimdc.bzlrobot.com/bsp/opi/document/v1/document/fileStore/uploadFile",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "*/*"
					},
					{
						"key": "Accept-Language",
						"value": "zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"
					},
					{
						"key": "Connection",
						"value": "keep-alive"
					},
					{
						"key": "Cookie",
						"value": "sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%221876a7f1e0f1368-09fbff283e5df9-4c657b58-2073600-1876a7f1e10e86%22%2C%22first_id%22%3A%22%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E5%BC%95%E8%8D%90%E6%B5%81%E9%87%8F%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC%22%2C%22%24latest_referrer%22%3A%22https%3A%2F%2Flogin.countrygarden.com.cn%2F%22%7D%2C%22identities%22%3A%22eyIkaWRlbnRpdHlfY29va2llX2lkIjoiMTg3NmE3ZjFlMGYxMzY4LTA5ZmJmZjI4M2U1ZGY5LTRjNjU3YjU4LTIwNzM2MDAtMTg3NmE3ZjFlMTBlODYifQ%3D%3D%22%2C%22history_login_id%22%3A%7B%22name%22%3A%22%22%2C%22value%22%3A%22%22%7D%2C%22%24device_id%22%3A%221876a7f1e0f1368-09fbff283e5df9-4c657b58-2073600-1876a7f1e10e86%22%7D; x-access-token=9f576f5f914c6e29584f82e5c5fe9c92"
					},
					{
						"key": "Origin",
						"value": "https://bimdc.bzlrobot.com"
					},
					{
						"key": "Sec-Fetch-Dest",
						"value": "empty"
					},
					{
						"key": "Sec-Fetch-Mode",
						"value": "cors"
					},
					{
						"key": "Sec-Fetch-Site",
						"value": "same-origin"
					},
					{
						"key": "User-Agent",
						"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 Edg/115.0.0.0"
					},
					{
						"key": "app_token",
						"value": "A4C419A561A3404A86A33628A3F681C3"
					},
					{
						"key": "sec-ch-ua",
						"value": "\"Not/A)Brand\";v=\"99\", \"Microsoft Edge\";v=\"115\", \"Chromium\";v=\"115\""
					},
					{
						"key": "sec-ch-ua-mobile",
						"value": "?0"
					},
					{
						"key": "sec-ch-ua-platform",
						"value": "\"Windows\""
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "file",
							"type": "file",
							"src": "/C:/Users/chenyongzhi11/Desktop/微信图片_20221025174254.jpg"
						}
					]
				},
				"url": {
					"raw": "https://bimdc.bzlrobot.com/bsp/opi/document/v1/document/fileStore/uploadFile",
					"protocol": "https",
					"host": [
						"bimdc",
						"bzlrobot",
						"com"
					],
					"path": [
						"bsp",
						"opi",
						"document",
						"v1",
						"document",
						"fileStore",
						"uploadFile"
					]
				}
			},
			"response": []
		},
		{
			"name": "平台登录",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "username",
							"value": "admin",
							"type": "text"
						},
						{
							"key": "password",
							"value": "3306",
							"type": "text"
						},
						{
							"key": "csrfmiddlewaretoken",
							"value": "av1VLobtvmrqvvoDRygqIqBr8QOa2ExxzcB1zVpHRKXXvOtoDzhmuLapxdP8uJj7",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "http://127.0.0.1:8000/index/",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "8000",
					"path": [
						"index",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "新增项目",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Cookie",
						"value": "sessionid=zjs3ytyud4hh952ongttt6vvx3fihlqv",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "http://127.0.0.1:8000/project/create_project/",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "8000",
					"path": [
						"project",
						"create_project",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "查询项目列表信息",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:8000/project/get_projects/",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "8000",
					"path": [
						"project",
						"get_projects",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "新增模块",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Cookie",
						"value": "sessionid=zjs3ytyud4hh952ongttt6vvx3fihlqv",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "html"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:8000/module/create_modul/",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "8000",
					"path": [
						"module",
						"create_modul",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "查询模块列表",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://127.0.0.1:8000/module/get_module/",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "8000",
					"path": [
						"module",
						"get_module",
						""
					]
				}
			},
			"response": []
		}
	]
}